<%- include('./partials/header') %>

<% if(error.length > 0){ %>
    <div class="fixed top-5 left-1/2 -translate-x-1/2 p-3 rounded-md bg-red-500 shadow-lg z-50">
        <span class="inline-block mt-1 mb-1 text-white font-medium">
            <%= error %>
        </span>
    </div>
<% } %>
<% if(success.length > 0){ %>
    <div class="fixed top-5 left-1/2 -translate-x-1/2 p-3 rounded-md bg-blue-500 shadow-lg z-50">
        <span class="inline-block mt-1 mb-1 text-white font-medium">
            <%= success %>
        </span>
    </div>
<% } %>

<div class="w-full min-h-screen flex flex-col md:flex-row px-4 md:px-20 py-10 gap-10">

    <div class="md:hidden w-full flex justify-center mb-6">
        <div class="flex border border-gray-300 rounded-full overflow-hidden w-[90%] max-w-md">
            <button id="tab-register" class="w-1/2 py-2 text-sm font-medium bg-blue-500 text-white">Register</button>
            <button id="tab-login" class="w-1/2 py-2 text-sm font-medium bg-gray-100 text-gray-700">Login</button>
        </div>
    </div>


    <div id="register-section" class="w-full md:w-1/2 flex items-center justify-center">
        <div class="w-full md:w-[80%] lg:w-[70%] px-4 md:px-10">
            <h3 class="text-2xl mb-2">
                Welcome to <span class="text-blue-400 text-4xl font-semibold">Shopisy</span>
            </h3>
            <h4 class="text-xl md:text-2xl mb-5">Create your account</h4>
            <form autocomplete="off" action="/users/register" method="post" class="space-y-3">
                <input class="bg-zinc-100 block w-full px-3 py-2 border rounded-md border-zinc-200 focus:outline-none focus:ring-2 focus:ring-blue-400" type="text" placeholder="Full Name" name="fullname">
                <input class="bg-zinc-100 block w-full px-3 py-2 border rounded-md border-zinc-200 focus:outline-none focus:ring-2 focus:ring-blue-400" type="email" placeholder="Email" name="email">
                <input class="bg-zinc-100 block w-full px-3 py-2 border rounded-md border-zinc-200 focus:outline-none focus:ring-2 focus:ring-blue-400" type="password" placeholder="Password" name="password">
                <input class="px-5 w-full md:w-auto rounded-full py-3 mt-2 bg-blue-500 text-white font-semibold hover:bg-blue-600 transition" type="submit" value="Create My Account">
            </form>

            <div class="md:hidden my-6 flex items-center">
                <div class="flex-grow h-px bg-gray-300"></div>
                <span class="px-3 text-gray-500 text-sm">OR</span>
                <div class="flex-grow h-px bg-gray-300"></div>
            </div>
            <div class="md:hidden space-y-3">
                <button class="w-full flex items-center justify-center gap-2 px-4 py-2 border rounded-lg bg-white hover:bg-gray-50 transition">
                    <img src="https://www.svgrepo.com/show/475656/google-color.svg" class="w-5 h-5"> Continue with Google
                </button>
                <button class="w-full flex items-center justify-center gap-2 px-4 py-2 border rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition">
                    <i class="ri-facebook-fill"></i> Continue with Facebook
                </button>
            </div>
        </div>
    </div>


    <div class="hidden md:flex flex-col items-center justify-center px-4">
        <div class="w-px h-40 bg-gray-300 relative">
            <span class="absolute -left-3 top-1/2 -translate-y-1/2 bg-white px-2 text-gray-500 font-medium">
                OR
            </span>
        </div>
    </div>


    <div id="login-section" class="w-full md:w-1/2 flex items-center justify-center hidden md:flex">
        <div class="w-full md:w-[80%] lg:w-[70%] px-4 md:px-10">
            <h4 class="text-xl md:text-2xl capitalize mb-5">Login your account</h4>
            <form autocomplete="off" action="/users/login" method="post" class="space-y-3">
                <input class="bg-zinc-100 block w-full px-3 py-2 border rounded-md border-zinc-200 focus:outline-none focus:ring-2 focus:ring-blue-400" type="email" placeholder="Email" name="email">
                <input class="bg-zinc-100 block w-full px-3 py-2 border rounded-md border-zinc-200 focus:outline-none focus:ring-2 focus:ring-blue-400" type="password" placeholder="Password" name="password">
                <input class="px-5 w-full md:w-auto rounded-full py-3 mt-2 bg-blue-500 text-white font-semibold hover:bg-blue-600 transition" type="submit" value="Login">
            </form>
        </div>
    </div>
</div>

<script>

    const tabRegister = document.getElementById("tab-register");
    const tabLogin = document.getElementById("tab-login");
    const registerSection = document.getElementById("register-section");
    const loginSection = document.getElementById("login-section");

    tabRegister.addEventListener("click", () => {
        registerSection.classList.remove("hidden");
        loginSection.classList.add("hidden");

        tabRegister.classList.add("bg-blue-500", "text-white");
        tabRegister.classList.remove("bg-gray-100", "text-gray-700");

        tabLogin.classList.remove("bg-blue-500", "text-white");
        tabLogin.classList.add("bg-gray-100", "text-gray-700");
    });

    tabLogin.addEventListener("click", () => {
        registerSection.classList.add("hidden");
        loginSection.classList.remove("hidden");

        tabLogin.classList.add("bg-blue-500", "text-white");
        tabLogin.classList.remove("bg-gray-100", "text-gray-700");

        tabRegister.classList.remove("bg-blue-500", "text-white");
        tabRegister.classList.add("bg-gray-100", "text-gray-700");
    });
</script>

<%- include('./partials/footer') %>
